services:
  mandataris:
    image: local-js-template
    #build: ./
    #image: semtech/mu-javascript-template:1.8.0
    restart: no
    labels:
      - logging=true
    environment:
      NODE_ENV: development
      NO_BABEL_NODE: true
      EMAIL_FROM_MANDATARIS_EFFECTIEF: email@address.com
      WELL_KNOWN_SERVICE: test
      NOTIFICATION_CRON_PATTERN: 0 0 * * * # Every day at 12AM
      SEND_EMAIL_FOR_MANDATARIS_EFFECTIEF: false
      BESLUIT_CRON_PATTERN: 0 0 * * * # Every day at 12AM
      BESLUIT_BUFFER_TIME: 10000
    ports:
      - '8082:80'
      - '9225:9229'
    volumes:
      - ../app-lokaal-mandatenbeheer/config/mandataris:/config
      - ../app-lokaal-mandatenbeheer/data/files/burgemeester-benoemingen:/uploads
      - ./:/app
      # ignore app/dist because this is where we map the built files to, otherwise we get an infinite loop of creating files (on mac)
      - /app/dist
      - ./dist:/build/
    networks:
      - debug

networks:
  debug:
    external: true
